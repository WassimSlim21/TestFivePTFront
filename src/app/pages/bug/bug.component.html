<div class="main-content">
  <div class="container-fluid">
    <div class="card pl-5">
      <div class="card-header card-header-primary">
        <h4 class="card-title">Bugs WorkFlow</h4>
      </div>
      <div class="card-body">

        <div class="row" cdkDropListGroup>
          <div class="col-">
            <div class="card">
              <div class="drag-container">
                <div class="card-header card-header-danger">
                  <h4 class="card-title"> New Bug</h4>
                </div>
                <div class="card-body">

                  <div cdkDropList id="newBug" [cdkDropListData]="newBug" class="item-list"
                    (cdkDropListDropped)="drop($event)">
                    <mat-list class="item-box" *ngFor="let bug of newBug" cdkDrag>
                      <mat-list-item matTooltip="Assigned to : {{bug.account_assigned_id.userName}}">
                        <img mat-list-avatar src="../../../assets/img/person.png" />
                        <h3 mat-line class="font-weight-bold text-danger"> {{bug?.name}} </h3>
                        <h3 mat-line class="font-weight-bold text-secondary">
                          <i class="material-icons"></i>
                          {{bug?.account_id?.userName}} </h3>
                        <h4 mat-line>{{bug?.account_id?.role}}</h4>
                        <h6 mat-column class="text-warning">
                          {{moment(bug?.updated_at).fromNow()}}
                        </h6>
                        <div mat-column>
                          <button mat-icon-button [matMenuTriggerFor]="menu"
                            aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                          </button>
                          <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="openDialogListUser(bug)">
                              <mat-icon>person_add</mat-icon>
                              <span>Assigned to</span>
                            </button>
                            <button mat-menu-item (click)="comfirmDialog(bug)">
                              <mat-icon>delete</mat-icon>
                              <span>delete</span>
                            </button>
                          </mat-menu>
                        </div>
                        <div mat-line>
                          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                              </mat-panel-title>
                            </mat-expansion-panel-header>
                            <p *ngIf="bug.account_assigned_id">
                              <span class="font-weight-bold text-secondary">Assigned to :</span> {{bug.account_assigned_id.userName}}
                              <span class="font-weight-bold text-secondary">Account Type : </span> {{bug.account_assigned_id.role}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Description :</span> {{bug.description}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Type :</span> {{bug.type}}
                            </p>
                            <p *ngIf="bug.info!==''">
                              <span class="font-weight-bold text-secondary">Info :</span> {{bug.info}}
                            </p>
                          </mat-expansion-panel>
                        </div>

                      </mat-list-item>
                    </mat-list>
                  </div>
                  <div class="fab-container float-none">
                    <button mat-mini-fab class="fab-toggler" class="btn btn-info" (click)="addBugDialog()">
                      <i class="material-icons">add</i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-">
            <div class="card">
              <div class="drag-container">
                <div class="card-header card-header-warning">
                  <h4 class="card-title"> In Progress
                  </h4>
                </div>
                <div class="card-body">
                  <div cdkDropList id="inProgress" [cdkDropListData]="inProgress" class="item-list"
                    (cdkDropListDropped)="drop($event)">
                    <mat-list class="item-box" *ngFor="let bug of inProgress" cdkDrag>
                      <mat-list-item matTooltip="Assigned to : {{bug.account_assigned_id.userName}}">
                        <img mat-list-avatar src="../../../assets/img/person.png" />
                        <h3 mat-line class="font-weight-bold text-danger"> {{bug?.name}} </h3>
                        <h3 mat-line class="font-weight-bold text-secondary"> {{bug?.account_id?.userName}} </h3>
                        <h4 mat-line>{{bug?.account_id?.role}}</h4>
                        <h6 mat-column class="text-warning">{{moment(bug?.updated_at).fromNow()}}</h6>
                        <div mat-column>
                          <button mat-icon-button [matMenuTriggerFor]="menu"
                            aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                          </button>
                          <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="openDialogListUser(bug)">
                              <mat-icon>person_add</mat-icon>
                              <span>Assigned to</span>
                            </button>
                            <button mat-menu-item (click)="comfirmDialog(bug)">
                              <mat-icon>delete</mat-icon>
                              <span>delete</span>
                            </button>
                          </mat-menu>
                        </div>
                        <div mat-line>
                          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                              </mat-panel-title>
                            </mat-expansion-panel-header>
                            <p *ngIf="bug.account_assigned_id">
                              <span class="font-weight-bold text-secondary">Assigned to :</span> {{bug.account_assigned_id.userName}}
                              <span class="font-weight-bold text-secondary">Account Type : </span> {{bug.account_assigned_id.role}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Description :</span> {{bug.description}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Type :</span> {{bug.type}}
                            </p>
                            <p *ngIf="bug.info!==''">
                              <span class="font-weight-bold text-secondary">Info :</span> {{bug.info}}
                            </p>
                          </mat-expansion-panel>
                        </div>
                      </mat-list-item>
                    </mat-list>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-">
            <div class="card">
              <div class="drag-container">
                <div class="card-header card-header-primary">
                  <h4 class="card-title"> Ready For Test
                  </h4>
                </div>
                <div class="card-body">
                  <div cdkDropList id="readyForTest" [cdkDropListData]="readyForTest" class="item-list"
                    (cdkDropListDropped)="drop($event)">
                    <mat-list class="item-box" *ngFor="let bug of readyForTest" cdkDrag>
                      <mat-list-item matTooltip="Assigned to : {{bug.account_assigned_id.userName}}">
                        <img mat-list-avatar src="../../../assets/img/person.png" />
                        <h3 mat-line class="font-weight-bold text-danger"> {{bug?.name}} </h3>
                        <h3 mat-line class="font-weight-bold text-secondary"> {{bug?.account_id?.userName}} </h3>
                        <h4 mat-line>{{bug?.account_id?.role}}</h4>

                        <h6 mat-column class="text-warning">{{moment(bug?.updated_at).fromNow()}}</h6>
                        <div mat-column>
                          <button mat-icon-button [matMenuTriggerFor]="menu"
                            aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                          </button>
                          <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="openDialogListUser(bug)">
                              <mat-icon>person_add</mat-icon>
                              <span>Assigned to</span>
                            </button>
                            <button mat-menu-item (click)="comfirmDialog(bug)">
                              <mat-icon>delete</mat-icon>
                              <span>delete</span>
                            </button>
                          </mat-menu>
                        </div>
                        <div mat-line>
                          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                              </mat-panel-title>
                            </mat-expansion-panel-header>
                            <p *ngIf="bug.account_assigned_id">
                              <span class="font-weight-bold text-secondary">Assigned to :</span> {{bug.account_assigned_id.userName}}
                              <span class="font-weight-bold text-secondary">Account Type : </span> {{bug.account_assigned_id.role}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Description :</span> {{bug.description}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Type :</span> {{bug.type}}
                            </p>
                            <p *ngIf="bug.info!==''">
                              <span class="font-weight-bold text-secondary">Info :</span> {{bug.info}}
                            </p>
                          </mat-expansion-panel>
                        </div>

                      </mat-list-item>
                    </mat-list>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-">
            <div class="card">
              <div class="drag-container">
                <div class="card-header card-header-success">
                  <h4 class="card-title"> Done
                  </h4>
                </div>
                <div class="card-body">
                  <div cdkDropList id="done" [cdkDropListData]="done" class="item-list"
                    (cdkDropListDropped)="drop($event)">
                    <mat-list class="item-box" *ngFor="let bug of done" cdkDrag>
                      <mat-list-item matTooltip="Assigned to : {{bug.account_assigned_id.userName}}">
                        <img mat-list-avatar src="../../../assets/img/person.png" />
                        <h3 mat-line class="font-weight-bold text-danger"> {{bug?.name}} </h3>

                        <h3 mat-line class="font-weight-bold text-secondary"> {{bug?.account_id?.userName}} </h3>
                        <h4 mat-line>{{bug?.account_id?.role}}</h4>

                        <h6 mat-column class="text-warning">{{moment(bug?.updated_at).fromNow()}}</h6>
                        <div mat-column>
                          <button mat-icon-button [matMenuTriggerFor]="menu"
                            aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                          </button>
                          <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="openDialogListUser(bug)">
                              <mat-icon>person_add</mat-icon>
                              <span>Assigned to</span>
                            </button>
                            <button mat-menu-item (click)="comfirmDialog(bug)">
                              <mat-icon>delete</mat-icon>
                              <span>delete</span>
                            </button>
                          </mat-menu>
                        </div>
                        <div mat-line>
                          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                              </mat-panel-title>
                            </mat-expansion-panel-header>
                            <p *ngIf="bug.account_assigned_id">
                              <span class="font-weight-bold text-secondary">Assigned to :</span> {{bug.account_assigned_id.userName}}
                              <span class="font-weight-bold text-secondary">Account Type : </span> {{bug.account_assigned_id.role}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Description :</span> {{bug.description}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Type :</span> {{bug.type}}
                            </p>
                            <p *ngIf="bug.info!==''">
                              <span class="font-weight-bold text-secondary">Info :</span> {{bug.info}}
                            </p>
                          </mat-expansion-panel>
                        </div>
                      </mat-list-item>
                    </mat-list>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-">
            <div class="card">
              <div class="drag-container">
                <div class="card-header card-header-info">
                  <h4 class="card-title"> Need Info
                  </h4>
                </div>
                <div class="card-body">
                  <div cdkDropList id="needInfo" [cdkDropListData]="needInfo" class="item-list"
                    (cdkDropListDropped)="drop($event)">
                    <mat-list class="item-box" *ngFor="let bug of needInfo" cdkDrag>
                      <mat-list-item matTooltip="Assigned to : {{bug.account_assigned_id.userName}}">
                        <img mat-list-avatar src="../../../assets/img/person.png" />
                        <h3 mat-line class="font-weight-bold text-danger"> {{bug?.name}} </h3>
                        <h3 mat-line class="font-weight-bold text-secondary"> {{bug?.account_id?.userName}} </h3>
                        <h4 mat-line>{{bug?.account_id?.role}}</h4>

                        <h6 mat-column class="text-warning">{{moment(bug?.updated_at).fromNow()}}</h6>
                        <div mat-column>
                          <button mat-icon-button [matMenuTriggerFor]="menu"
                            aria-label="Example icon-button with a menu">
                            <mat-icon>more_vert</mat-icon>
                          </button>
                          <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="openDialogListUser(bug)">
                              <mat-icon>person_add</mat-icon>
                              <span>Assigned to</span>
                            </button>
                            <button mat-menu-item (click)="comfirmDialog(bug)">
                              <mat-icon>delete</mat-icon>
                              <span>delete</span>
                            </button>
                          </mat-menu>
                        </div>
                        <div mat-line>
                          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                              <mat-panel-title>
                              </mat-panel-title>
                            </mat-expansion-panel-header>
                            <p *ngIf="bug.account_assigned_id">
                              <span class="font-weight-bold text-secondary">Assigned to :</span> {{bug.account_assigned_id.userName}}
                              <span class="font-weight-bold text-secondary">Account Type : </span> {{bug.account_assigned_id.role}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Description :</span> {{bug.description}}
                            </p>
                            <p>
                              <span class="font-weight-bold text-secondary">Type :</span> {{bug.type}}
                            </p>
                            <p *ngIf="bug.info!==''">
                              <span class="font-weight-bold text-secondary">Info :</span> {{bug.info}}
                            </p>
                          </mat-expansion-panel>
                        </div>
                      </mat-list-item>
                    </mat-list>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
